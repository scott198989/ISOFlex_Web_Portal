<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISOFlex Manufacturing Hub</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/react-router-dom@6.20.0/dist/umd/react-router-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#8b5cf6',
                        accent: '#06b6d4',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            margin: 0;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
        }

        .glass {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(148, 163, 184, 0.1);
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(148, 163, 184, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            background: rgba(51, 65, 85, 0.7);
            border-color: rgba(59, 130, 246, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
        }

        .gradient-text {
            background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .module-icon {
            transition: transform 0.3s ease;
        }

        .glass-card:hover .module-icon {
            transform: scale(1.1) rotate(5deg);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { opacity: 1; box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
            50% { opacity: 0.8; box-shadow: 0 0 40px rgba(59, 130, 246, 0.8); }
        }

        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }

        .status-indicator {
            position: relative;
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #10b981;
            box-shadow: 0 0 10px #10b981;
        }

        .status-indicator::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: inherit;
            animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
        }

        @keyframes ping {
            75%, 100% {
                transform: translate(-50%, -50%) scale(2);
                opacity: 0;
            }
        }

        .nav-link {
            position: relative;
            overflow: hidden;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, #3b82f6, #06b6d4);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            transform: translateX(0);
        }

        .metric-card {
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .metric-card:hover::before {
            left: 100%;
        }

        .scroll-smooth {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { BrowserRouter, Routes, Route, Link, useNavigate, useLocation } = window.ReactRouterDOM;

        // ============================================
        // ICONS (SVG Components)
        // ============================================
        const DashboardIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-3zM14 13a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1h-4a1 1 0 01-1-1v-7z" />
            </svg>
        );

        const NCMIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
        );

        const CoAIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
        );

        const SiloIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
            </svg>
        );

        const ShipIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" />
            </svg>
        );

        const AnalyticsIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
            </svg>
        );

        const CubeIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
            </svg>
        );

        // ============================================
        // NAVIGATION COMPONENT
        // ============================================
        function Navigation() {
            const location = useLocation();
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            const isActive = (path) => location.pathname === path;

            const navItems = [
                { path: '/', label: 'Dashboard', icon: <DashboardIcon /> },
                { path: '/ncm', label: 'NCM Analytics', icon: <NCMIcon /> },
                { path: '/coa', label: 'Certificates', icon: <CoAIcon /> },
                { path: '/silo', label: 'Silo Levels', icon: <SiloIcon /> },
                { path: '/shipping', label: 'Shipping', icon: <ShipIcon /> },
                { path: '/analytics', label: 'Analytics', icon: <AnalyticsIcon /> },
            ];

            return (
                <nav className="glass sticky top-0 z-50 border-b border-slate-700/50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex items-center justify-between h-16">
                            {/* Logo */}
                            <Link to="/" className="flex items-center space-x-3">
                                <CubeIcon />
                                <span className="text-2xl font-bold gradient-text">ISOFlex</span>
                                <div className="status-indicator"></div>
                            </Link>

                            {/* Desktop Navigation */}
                            <div className="hidden md:flex items-center space-x-1">
                                {navItems.map((item) => (
                                    <Link
                                        key={item.path}
                                        to={item.path}
                                        className={`nav-link px-4 py-2 rounded-lg text-sm font-medium transition-colors ${
                                            isActive(item.path)
                                                ? 'text-blue-400 bg-blue-500/10 active'
                                                : 'text-slate-300 hover:text-white hover:bg-slate-700/50'
                                        }`}
                                    >
                                        <div className="flex items-center space-x-2">
                                            {item.icon}
                                            <span>{item.label}</span>
                                        </div>
                                    </Link>
                                ))}
                            </div>

                            {/* Mobile menu button */}
                            <button
                                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                                className="md:hidden p-2 rounded-lg text-slate-300 hover:bg-slate-700/50"
                            >
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    {/* Mobile Navigation */}
                    {mobileMenuOpen && (
                        <div className="md:hidden border-t border-slate-700/50">
                            <div className="px-2 pt-2 pb-3 space-y-1">
                                {navItems.map((item) => (
                                    <Link
                                        key={item.path}
                                        to={item.path}
                                        onClick={() => setMobileMenuOpen(false)}
                                        className={`block px-3 py-2 rounded-lg text-base font-medium ${
                                            isActive(item.path)
                                                ? 'text-blue-400 bg-blue-500/10'
                                                : 'text-slate-300 hover:bg-slate-700/50'
                                        }`}
                                    >
                                        <div className="flex items-center space-x-2">
                                            {item.icon}
                                            <span>{item.label}</span>
                                        </div>
                                    </Link>
                                ))}
                            </div>
                        </div>
                    )}
                </nav>
            );
        }

        // ============================================
        // DASHBOARD PAGE (Home)
        // ============================================
        function DashboardPage() {
            const navigate = useNavigate();

            const modules = [
                {
                    title: 'NCM Analytics',
                    description: 'Non-conforming material tracking and analysis',
                    icon: <NCMIcon />,
                    path: '/ncm',
                    color: 'from-red-500 to-orange-500',
                    status: 'live',
                    stats: { label: 'Active NCMs', value: '24' }
                },
                {
                    title: '3D Visualization',
                    description: 'Interactive 3D manufacturing data visualization',
                    icon: <CubeIcon />,
                    path: '/ncm/3d',
                    color: 'from-blue-500 to-cyan-500',
                    status: 'live',
                    stats: { label: 'Data Points', value: '156' }
                },
                {
                    title: 'Certificates of Analysis',
                    description: 'Manage and search quality certificates',
                    icon: <CoAIcon />,
                    path: '/coa',
                    color: 'from-green-500 to-emerald-500',
                    status: 'coming soon',
                    stats: { label: 'Documents', value: '-' }
                },
                {
                    title: 'Silo Resin Levels',
                    description: 'Real-time inventory and usage monitoring',
                    icon: <SiloIcon />,
                    path: '/silo',
                    color: 'from-purple-500 to-pink-500',
                    status: 'coming soon',
                    stats: { label: 'Silos', value: '-' }
                },
                {
                    title: 'Shipping & Logistics',
                    description: 'Order tracking and delivery schedules',
                    icon: <ShipIcon />,
                    path: '/shipping',
                    color: 'from-yellow-500 to-orange-500',
                    status: 'coming soon',
                    stats: { label: 'Orders', value: '-' }
                },
                {
                    title: 'Advanced Analytics',
                    description: 'Cross-module insights and predictions',
                    icon: <AnalyticsIcon />,
                    path: '/analytics',
                    color: 'from-indigo-500 to-purple-500',
                    status: 'coming soon',
                    stats: { label: 'Reports', value: '-' }
                },
            ];

            const quickStats = [
                { label: 'Plant Status', value: 'OPERATIONAL', color: 'text-green-400' },
                { label: 'Active Lines', value: '3/3', color: 'text-blue-400' },
                { label: 'Today\'s Production', value: '12,450 lbs', color: 'text-cyan-400' },
                { label: 'Quality Rate', value: '98.2%', color: 'text-emerald-400' },
            ];

            return (
                <div className="min-h-screen p-6">
                    <div className="max-w-7xl mx-auto space-y-8">
                        {/* Hero Section */}
                        <div className="text-center space-y-4 py-12">
                            <div className="inline-block float-animation">
                                <CubeIcon />
                            </div>
                            <h1 className="text-5xl md:text-6xl font-bold gradient-text">
                                ISOFlex Manufacturing Hub
                            </h1>
                            <p className="text-xl text-slate-400 max-w-2xl mx-auto">
                                Your central operations platform for real-time manufacturing intelligence
                            </p>
                        </div>

                        {/* Quick Stats */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                            {quickStats.map((stat, index) => (
                                <div key={index} className="glass-card rounded-xl p-6 metric-card">
                                    <div className="text-sm text-slate-400 mb-1">{stat.label}</div>
                                    <div className={`text-2xl md:text-3xl font-bold ${stat.color}`}>
                                        {stat.value}
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Modules Grid */}
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {modules.map((module, index) => (
                                <div
                                    key={index}
                                    onClick={() => module.status === 'live' && navigate(module.path)}
                                    className={`glass-card rounded-xl p-6 ${
                                        module.status === 'live' ? 'cursor-pointer' : 'opacity-60'
                                    }`}
                                >
                                    <div className="flex items-start justify-between mb-4">
                                        <div className={`p-3 rounded-lg bg-gradient-to-br ${module.color} module-icon`}>
                                            {module.icon}
                                        </div>
                                        <span className={`text-xs px-3 py-1 rounded-full ${
                                            module.status === 'live'
                                                ? 'bg-green-500/20 text-green-400'
                                                : 'bg-yellow-500/20 text-yellow-400'
                                        }`}>
                                            {module.status}
                                        </span>
                                    </div>
                                    <h3 className="text-xl font-bold text-white mb-2">{module.title}</h3>
                                    <p className="text-slate-400 text-sm mb-4">{module.description}</p>
                                    <div className="flex items-center justify-between pt-4 border-t border-slate-700/50">
                                        <div>
                                            <div className="text-xs text-slate-500">{module.stats.label}</div>
                                            <div className="text-lg font-bold text-white">{module.stats.value}</div>
                                        </div>
                                        {module.status === 'live' && (
                                            <svg className="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                                            </svg>
                                        )}
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Footer Info */}
                        <div className="glass-card rounded-xl p-6 text-center">
                            <p className="text-slate-400 text-sm">
                                Built with ❤️ using React, TypeScript, and Cloudflare
                            </p>
                            <p className="text-slate-500 text-xs mt-2">
                                Version 1.0.0 • © 2025 ISOFlex
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        // ============================================
        // NCM ANALYTICS PAGE
        // ============================================
        function NCMPage() {
            return (
                <div className="min-h-screen p-6">
                    <div className="max-w-7xl mx-auto space-y-6">
                        <div className="flex items-center justify-between">
                            <div>
                                <h1 className="text-3xl font-bold text-white mb-2">NCM Analytics</h1>
                                <p className="text-slate-400">Non-conforming material tracking and analysis</p>
                            </div>
                            <div className="flex gap-3">
                                <a
                                    href="https://ncm-analytics-db.pages.dev/"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    className="glass-card px-6 py-3 rounded-lg text-white hover:bg-slate-700/50 transition-all"
                                >
                                    📊 Table View
                                </a>
                                <a
                                    href="/3d"
                                    className="glass-card px-6 py-3 rounded-lg text-white hover:bg-slate-700/50 transition-all"
                                >
                                    🌐 3D View
                                </a>
                            </div>
                        </div>

                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="glass-card rounded-xl p-6">
                                <h3 className="text-xl font-bold text-white mb-4">Quick Actions</h3>
                                <div className="space-y-3">
                                    <a href="https://ncm-analytics-db.pages.dev/" target="_blank" className="block p-4 rounded-lg bg-slate-700/30 hover:bg-slate-700/50 transition-colors">
                                        <div className="font-semibold text-white">View Current Dashboard</div>
                                        <div className="text-sm text-slate-400">Access the full NCM analytics table</div>
                                    </a>
                                    <button className="w-full text-left p-4 rounded-lg bg-slate-700/30 hover:bg-slate-700/50 transition-colors">
                                        <div className="font-semibold text-white">Export Data</div>
                                        <div className="text-sm text-slate-400">Download NCM reports as CSV/Excel</div>
                                    </button>
                                    <button className="w-full text-left p-4 rounded-lg bg-slate-700/30 hover:bg-slate-700/50 transition-colors">
                                        <div className="font-semibold text-white">Generate Report</div>
                                        <div className="text-sm text-slate-400">Create custom analytics report</div>
                                    </button>
                                </div>
                            </div>

                            <div className="glass-card rounded-xl p-6">
                                <h3 className="text-xl font-bold text-white mb-4">Recent Activity</h3>
                                <div className="space-y-3">
                                    <div className="flex items-center gap-3 p-3 rounded-lg bg-slate-700/20">
                                        <div className="w-2 h-2 rounded-full bg-red-500"></div>
                                        <div className="flex-1">
                                            <div className="text-sm text-white">New critical NCM</div>
                                            <div className="text-xs text-slate-400">Line A • 5 mins ago</div>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-3 p-3 rounded-lg bg-slate-700/20">
                                        <div className="w-2 h-2 rounded-full bg-green-500"></div>
                                        <div className="flex-1">
                                            <div className="text-sm text-white">NCM #101724A resolved</div>
                                            <div className="text-xs text-slate-400">Line B • 15 mins ago</div>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-3 p-3 rounded-lg bg-slate-700/20">
                                        <div className="w-2 h-2 rounded-full bg-yellow-500"></div>
                                        <div className="flex-1">
                                            <div className="text-sm text-white">Quality review pending</div>
                                            <div className="text-xs text-slate-400">Line C • 1 hour ago</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // ============================================
        // COMING SOON PAGES
        // ============================================
        function ComingSoonPage({ title, description, icon }) {
            return (
                <div className="min-h-screen flex items-center justify-center p-6">
                    <div className="glass-card rounded-2xl p-12 text-center max-w-2xl">
                        <div className="inline-block p-6 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 mb-6 float-animation">
                            {icon}
                        </div>
                        <h1 className="text-4xl font-bold text-white mb-4">{title}</h1>
                        <p className="text-xl text-slate-400 mb-8">{description}</p>
                        <div className="inline-block px-6 py-2 rounded-full bg-yellow-500/20 text-yellow-400 text-sm font-semibold">
                            Coming Soon
                        </div>
                        <p className="text-slate-500 text-sm mt-8">
                            This module is currently under development
                        </p>
                    </div>
                </div>
            );
        }

        // ============================================
        // MAIN APP
        // ============================================
        function App() {
            return (
                <BrowserRouter>
                    <div className="min-h-screen">
                        <Navigation />
                        <Routes>
                            <Route path="/" element={<DashboardPage />} />
                            <Route path="/ncm" element={<NCMPage />} />
                            <Route 
                                path="/coa" 
                                element={
                                    <ComingSoonPage 
                                        title="Certificates of Analysis"
                                        description="Manage and search quality certificates with advanced OCR and metadata extraction"
                                        icon={<CoAIcon />}
                                    />
                                } 
                            />
                            <Route 
                                path="/silo" 
                                element={
                                    <ComingSoonPage 
                                        title="Silo Resin Levels"
                                        description="Real-time inventory monitoring with automated alerts and usage predictions"
                                        icon={<SiloIcon />}
                                    />
                                } 
                            />
                            <Route 
                                path="/shipping" 
                                element={
                                    <ComingSoonPage 
                                        title="Shipping & Logistics"
                                        description="Track orders, manage delivery schedules, and automate customer notifications"
                                        icon={<ShipIcon />}
                                    />
                                } 
                            />
                            <Route 
                                path="/analytics" 
                                element={
                                    <ComingSoonPage 
                                        title="Advanced Analytics"
                                        description="Cross-module insights, predictive analytics, and custom reporting dashboards"
                                        icon={<AnalyticsIcon />}
                                    />
                                } 
                            />
                        </Routes>
                    </div>
                </BrowserRouter>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>